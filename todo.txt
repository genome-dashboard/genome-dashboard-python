01.23.2020

Updates:
- Package builds successfully now.
- Documentation presents in PyPI correctly.

Issues:
- Failing TravisCI/CD builds
- Failing to generate new sphinx docs
- Failing to install from PyPI with this error:

    > pip install genomedashboard
    Collecting genomedashboard
      Downloading genomedashboard-0.0.81.tar.gz (17 kB)
      Installing build dependencies ... done
      Getting requirements to build wheel ... error
      ERROR: Command errored out with exit status 1:
       command: /Users/jgentle/miniconda3/envs/sgci-eds-gdash/bin/python /Users/jgentle/miniconda3/envs/sgci-eds-gdash/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py get_requires_for_build_wheel /var/folders/xp/fbjt5xxn0yb4kvxbrwf6mgf40000gp/T/tmpm4agxn3v
           cwd: /private/var/folders/xp/fbjt5xxn0yb4kvxbrwf6mgf40000gp/T/pip-install-zrb7u35d/genomedashboard
      Complete output (16 lines):
      Traceback (most recent call last):
        File "/Users/jgentle/miniconda3/envs/sgci-eds-gdash/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py", line 257, in <module>
          main()
        File "/Users/jgentle/miniconda3/envs/sgci-eds-gdash/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py", line 240, in main
          json_out['return_val'] = hook(**hook_input['kwargs'])
        File "/Users/jgentle/miniconda3/envs/sgci-eds-gdash/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py", line 91, in get_requires_for_build_wheel
          return hook(config_settings)
        File "/private/var/folders/xp/fbjt5xxn0yb4kvxbrwf6mgf40000gp/T/pip-build-env-vb74z02u/overlay/lib/python3.8/site-packages/setuptools/build_meta.py", line 146, in get_requires_for_build_wheel
          return self._get_build_requires(config_settings, requirements=['wheel'])
        File "/private/var/folders/xp/fbjt5xxn0yb4kvxbrwf6mgf40000gp/T/pip-build-env-vb74z02u/overlay/lib/python3.8/site-packages/setuptools/build_meta.py", line 127, in _get_build_requires
          self.run_setup()
        File "/private/var/folders/xp/fbjt5xxn0yb4kvxbrwf6mgf40000gp/T/pip-build-env-vb74z02u/overlay/lib/python3.8/site-packages/setuptools/build_meta.py", line 142, in run_setup
          exec(compile(code, __file__, 'exec'), locals())
        File "setup.py", line 42, in <module>
          with open(path.join(here, 'VERSION.md'), encoding='utf-8') as f:
      FileNotFoundError: [Errno 2] No such file or directory: '/private/var/folders/xp/fbjt5xxn0yb4kvxbrwf6mgf40000gp/T/pip-install-zrb7u35d/genomedashboard/VERSION.md'
      ----------------------------------------
    ERROR: Command errored out with exit status 1: /Users/jgentle/miniconda3/envs/sgci-eds-gdash/bin/python /Users/jgentle/miniconda3/envs/sgci-eds-gdash/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py get_requires_for_build_wheel /var/folders/xp/fbjt5xxn0yb4kvxbrwf6mgf40000gp/T/tmpm4agxn3v Check the logs for full command output.


Dev Notes:
- Something somewhere is hung up on that version.md file.
- Need to find the root cause and unblock that.
- I think this is what is breaking the TravisCI builds and blocking everything else.


UPDATE:

This error is related to two things:

1) The Module entry point is likely incorrect - the package works if I manually use the scripts, but pip install fails to find the module - so something is off in config there.
2) TravisCI builds all fail right now due to env setup issues (at least so far). Need to adjust the travis.yml file until this passes finally.

IDEA:
- Remove all unneeded setup aspects and minify the process.











Some Refs:

- https://github.com/genome-dashboard
- https://github.com/genome-dashboard/genome-dashboard-python
- https://travis-ci.org/dashboard

- https://packaging.python.org/tutorials/packaging-projects/
- https://packaging.python.org/guides/distributing-packages-using-setuptools/#entry-points
- https://setuptools.readthedocs.io/en/latest/setuptools.html#automatic-script-creation
- https://packaging.python.org/specifications/core-metadata/#description-content-type-optional
- https://packaging.python.org/discussions/wheel-vs-egg/
- https://packaging.python.org/glossary/#term-distribution-package
- https://docs.python.org/3.8/distutils/sourcedist.html

- https://pythonwheels.com/

- https://docs.travis-ci.com/
- https://docs.travis-ci.com/user/job-lifecycle/
- https://blog.travis-ci.com/2019-08-07-extensive-python-testing-on-travis-ci
- https://travis-ci.community/t/python-setup-py-test-fails-because-of-strange-working-directory/4003/10
- https://stackoverflow.com/questions/35972415/python-import-fails-on-travisci-but-not-locally
- https://github.com/pypa/setuptools/issues/1644
- https://github.com/locustio/locust/issues/810

- https://twine.readthedocs.io/en/latest/
- https://setuptools.readthedocs.io/en/latest/
- https://setuptools.readthedocs.io/en/latest/setuptools.html#configuring-setup-using-setup-cfg-files
- https://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-dependencies
- https://setuptools.readthedocs.io/en/latest/setuptools.html#dynamic-discovery-of-services-and-plugins
- https://setuptools.readthedocs.io/en/latest/python3.html
